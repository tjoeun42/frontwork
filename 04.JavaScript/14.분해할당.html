<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>분해할당</title>
</head>
<body>
    <h1>분해 할당</h1>
    <p>
        - 배열이나 객체에 들어있는 속성값들을 각각의 변수에 할당
    </p>
    <h4>콘솔확인</h4>

    <script>
        (function() {
        // 1. 배열의 분해 할당
            // ES5에서 분해할당
            const points = [20, 30, 50];
            const x1 = points[0];
            const y1 = points[1];
            const z1 = points[2];
            console.log('x1, y1, z1 : ', x1, y1, z1);

            // ES6에서 분해할당
            // const [x2, y2, z2] = [20, 30, 40];
            const [x2, y2, z2] = points;

            console.log('x2, y2, z2 : ', x2, y2, z2);

            // 2번째 값 무시하기
            const [x3, ,z3] = points;
            console.log('x3, z3 : ', x3, z3);

            // 배열의 갯수보다 많은 변수를 넣으면 남는변수는 undefined
            const [x4, y4, z4, w4] = points;
            console.log('x4, y4, z4, w4 : ', x4, y4, z4, w4);

            const [x5, , ] = points;
            console.log('x5 : ', x5);

            // rest연산자(...) : 여러개의 인자값(배열로 들어옴)
            // java의 가변인자 (String... param)
            const [x6, y6, ...rest] = [10,20,30,40,50];
            console.log('x6 : ', x6);
            console.log('y6 : ', y6);
            console.log('rest : ', rest);
            console.log('----------------------------<br>');

        // 2. 객체의 분해 할당
            const car = {
                company : '현대',
                color : 'white',
                year : 2021
            }

            // ES5에서 객체 분해 할당
            const company1 = car.company;
            const color1 = car.color;
            const year1 = car.year;
            console.log('company1, color1, year1 : ', company1, color1, year1);

            // ES6에서 객체 분해 할당
            // 키와 동일한 변수명으로 할 때
            const {company, color, year} = car;
            console.log('company, color, year : ', company, color, year);

            // 키와 변수명을 다르게 할 때
            const {company: company2, color: color2, year: year2, gear2} = car;
            console.log('company2, color2, year2, gear2 : ', company2, color2, year2, gear2);
            
            console.log('----------------------------<br>');

            // 매개변수에 객체를 받음
            const fun1 = function(car) {
                const {company, color} = car;
                console.log(company);
                console.log(color);
            }
            fun1(car);
            console.log('----------------------------<br>');

            // 매개변수에 객체를 아예 분해할당하여 받음
            const fun2 = function({company, color}) {
                console.log(company);
                console.log(color);
            }
            fun2(car);
        })();
    </script>
</body>
</html>